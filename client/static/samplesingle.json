{"url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891","forks_url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/forks","commits_url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/commits","id":"b4113383ac52979d9734096f14756891","git_pull_url":"https://gist.github.com/b4113383ac52979d9734096f14756891.git","git_push_url":"https://gist.github.com/b4113383ac52979d9734096f14756891.git","html_url":"https://gist.github.com/b4113383ac52979d9734096f14756891","files":{"base_controller.rb":{"filename":"base_controller.rb","type":"application/x-ruby","language":"Ruby","raw_url":"https://gist.githubusercontent.com/TatuPutto/b4113383ac52979d9734096f14756891/raw/aade197035e125e3590018966e5406b278a2ed8b/base_controller.rb","size":932,"truncated":false,"content":"class API::V1::BaseController < ApplicationController\n\n  skip_before_filter :verify_authenticity_token\n\n  before_filter :cors_preflight_check\n  after_filter :cors_set_access_control_headers\n\n  def cors_set_access_control_headers\n    headers['Access-Control-Allow-Origin'] = '*'\n    headers['Access-Control-Allow-Methods'] = 'POST, GET, PUT, DELETE, OPTIONS'\n    headers['Access-Control-Allow-Headers'] = 'Origin, Content-Type, Accept, Authorization, Token'\n    headers['Access-Control-Max-Age'] = \"1728000\"\n  end\n\n  def cors_preflight_check\n    if request.method == 'OPTIONS'\n      headers['Access-Control-Allow-Origin'] = '*'\n      headers['Access-Control-Allow-Methods'] = 'POST, GET, PUT, DELETE, OPTIONS'\n      headers['Access-Control-Allow-Headers'] = 'X-Requested-With, X-Prototype-Version, Token'\n      headers['Access-Control-Max-Age'] = '1728000'\n\n      render :text => '', :content_type => 'text/plain'\n    end\n  end\n\nend\n"},"routes.rb":{"filename":"routes.rb","type":"application/x-ruby","language":"Ruby","raw_url":"https://gist.githubusercontent.com/TatuPutto/b4113383ac52979d9734096f14756891/raw/7e7a05ffeec52b3297a2fe8eda8b253af25fd18f/routes.rb","size":245,"truncated":false,"content":"Rails.application.routes.draw do\n  namespace :api, :defaults => {:format => :json} do\n    namespace :v1 do\n\n      controller :whatever, path: '/whatever' do\n        match 'post_action', via: [ :post, :options]\n      end\n      \n    end\n  end\nend\n"},"whatever_controller.rb":{"filename":"whatever_controller.rb","type":"application/x-ruby","language":"Ruby","raw_url":"https://gist.githubusercontent.com/TatuPutto/b4113383ac52979d9734096f14756891/raw/0a6d1884d26ec6dd51c89dd7bfc685da3f9ad8ae/whatever_controller.rb","size":164,"truncated":false,"content":"class API::V1::WhateverController < API::V1::BaseController\n\n  def upload\n    # Do complicated super secret stuff\n    \n    render json: { success: true }\n  end\n\nend"}},"public":true,"created_at":"2016-11-10T13:45:28Z","updated_at":"2017-02-01T10:36:55Z","description":"CORS in Rails 4 APIs","comments":0,"user":null,"comments_url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/comments","owner":{"login":"TatuPutto","id":5699778,"avatar_url":"https://avatars.githubusercontent.com/u/5699778?v=3","gravatar_id":"","url":"https://api.github.com/users/TatuPutto","html_url":"https://github.com/TatuPutto","followers_url":"https://api.github.com/users/TatuPutto/followers","following_url":"https://api.github.com/users/TatuPutto/following{/other_user}","gists_url":"https://api.github.com/users/TatuPutto/gists{/gist_id}","starred_url":"https://api.github.com/users/TatuPutto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TatuPutto/subscriptions","organizations_url":"https://api.github.com/users/TatuPutto/orgs","repos_url":"https://api.github.com/users/TatuPutto/repos","events_url":"https://api.github.com/users/TatuPutto/events{/privacy}","received_events_url":"https://api.github.com/users/TatuPutto/received_events","type":"User","site_admin":false},"fork_of":{"url":"https://api.github.com/gists/89925501dd2bc968445138a9bafb16cd","forks_url":"https://api.github.com/gists/89925501dd2bc968445138a9bafb16cd/forks","commits_url":"https://api.github.com/gists/89925501dd2bc968445138a9bafb16cd/commits","id":"89925501dd2bc968445138a9bafb16cd","git_pull_url":"https://gist.github.com/89925501dd2bc968445138a9bafb16cd.git","git_push_url":"https://gist.github.com/89925501dd2bc968445138a9bafb16cd.git","html_url":"https://gist.github.com/89925501dd2bc968445138a9bafb16cd","files":{},"public":true,"created_at":"2016-11-10T13:04:18Z","updated_at":"2016-11-10T13:45:28Z","description":"CORS in Rails 4 APIs","comments":0,"user":null,"comments_url":"https://api.github.com/gists/89925501dd2bc968445138a9bafb16cd/comments","owner":{"login":"anduong","id":6139560,"avatar_url":"https://avatars.githubusercontent.com/u/6139560?v=3","gravatar_id":"","url":"https://api.github.com/users/anduong","html_url":"https://github.com/anduong","followers_url":"https://api.github.com/users/anduong/followers","following_url":"https://api.github.com/users/anduong/following{/other_user}","gists_url":"https://api.github.com/users/anduong/gists{/gist_id}","starred_url":"https://api.github.com/users/anduong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anduong/subscriptions","organizations_url":"https://api.github.com/users/anduong/orgs","repos_url":"https://api.github.com/users/anduong/repos","events_url":"https://api.github.com/users/anduong/events{/privacy}","received_events_url":"https://api.github.com/users/anduong/received_events","type":"User","site_admin":false}},"forks":[],"history":[{"user":{"login":"dhoelzgen","id":202715,"avatar_url":"https://avatars.githubusercontent.com/u/202715?v=3","gravatar_id":"","url":"https://api.github.com/users/dhoelzgen","html_url":"https://github.com/dhoelzgen","followers_url":"https://api.github.com/users/dhoelzgen/followers","following_url":"https://api.github.com/users/dhoelzgen/following{/other_user}","gists_url":"https://api.github.com/users/dhoelzgen/gists{/gist_id}","starred_url":"https://api.github.com/users/dhoelzgen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhoelzgen/subscriptions","organizations_url":"https://api.github.com/users/dhoelzgen/orgs","repos_url":"https://api.github.com/users/dhoelzgen/repos","events_url":"https://api.github.com/users/dhoelzgen/events{/privacy}","received_events_url":"https://api.github.com/users/dhoelzgen/received_events","type":"User","site_admin":false},"version":"6c766af56bda8e9bb37555a5f13691a3c107a8f9","committed_at":"2014-07-14T11:16:02Z","change_status":{"total":2,"additions":1,"deletions":1},"url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/6c766af56bda8e9bb37555a5f13691a3c107a8f9"},{"user":{"login":"dhoelzgen","id":202715,"avatar_url":"https://avatars.githubusercontent.com/u/202715?v=3","gravatar_id":"","url":"https://api.github.com/users/dhoelzgen","html_url":"https://github.com/dhoelzgen","followers_url":"https://api.github.com/users/dhoelzgen/followers","following_url":"https://api.github.com/users/dhoelzgen/following{/other_user}","gists_url":"https://api.github.com/users/dhoelzgen/gists{/gist_id}","starred_url":"https://api.github.com/users/dhoelzgen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhoelzgen/subscriptions","organizations_url":"https://api.github.com/users/dhoelzgen/orgs","repos_url":"https://api.github.com/users/dhoelzgen/repos","events_url":"https://api.github.com/users/dhoelzgen/events{/privacy}","received_events_url":"https://api.github.com/users/dhoelzgen/received_events","type":"User","site_admin":false},"version":"929bdf16b2bfa04eb7fd270dfa694c64ceacf372","committed_at":"2014-07-10T09:18:45Z","change_status":{"total":4,"additions":2,"deletions":2},"url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/929bdf16b2bfa04eb7fd270dfa694c64ceacf372"},{"user":{"login":"dhoelzgen","id":202715,"avatar_url":"https://avatars.githubusercontent.com/u/202715?v=3","gravatar_id":"","url":"https://api.github.com/users/dhoelzgen","html_url":"https://github.com/dhoelzgen","followers_url":"https://api.github.com/users/dhoelzgen/followers","following_url":"https://api.github.com/users/dhoelzgen/following{/other_user}","gists_url":"https://api.github.com/users/dhoelzgen/gists{/gist_id}","starred_url":"https://api.github.com/users/dhoelzgen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhoelzgen/subscriptions","organizations_url":"https://api.github.com/users/dhoelzgen/orgs","repos_url":"https://api.github.com/users/dhoelzgen/repos","events_url":"https://api.github.com/users/dhoelzgen/events{/privacy}","received_events_url":"https://api.github.com/users/dhoelzgen/received_events","type":"User","site_admin":false},"version":"52fe58da21181ab5214192cba277ca01f1f53091","committed_at":"2014-07-10T09:14:40Z","change_status":{"total":9,"additions":9,"deletions":0},"url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/52fe58da21181ab5214192cba277ca01f1f53091"},{"user":{"login":"dhoelzgen","id":202715,"avatar_url":"https://avatars.githubusercontent.com/u/202715?v=3","gravatar_id":"","url":"https://api.github.com/users/dhoelzgen","html_url":"https://github.com/dhoelzgen","followers_url":"https://api.github.com/users/dhoelzgen/followers","following_url":"https://api.github.com/users/dhoelzgen/following{/other_user}","gists_url":"https://api.github.com/users/dhoelzgen/gists{/gist_id}","starred_url":"https://api.github.com/users/dhoelzgen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhoelzgen/subscriptions","organizations_url":"https://api.github.com/users/dhoelzgen/orgs","repos_url":"https://api.github.com/users/dhoelzgen/repos","events_url":"https://api.github.com/users/dhoelzgen/events{/privacy}","received_events_url":"https://api.github.com/users/dhoelzgen/received_events","type":"User","site_admin":false},"version":"6a06e71865a73e7b36d9e7ee56eb563dbdc1573d","committed_at":"2014-07-10T09:11:08Z","change_status":{"total":11,"additions":11,"deletions":0},"url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/6a06e71865a73e7b36d9e7ee56eb563dbdc1573d"},{"user":{"login":"dhoelzgen","id":202715,"avatar_url":"https://avatars.githubusercontent.com/u/202715?v=3","gravatar_id":"","url":"https://api.github.com/users/dhoelzgen","html_url":"https://github.com/dhoelzgen","followers_url":"https://api.github.com/users/dhoelzgen/followers","following_url":"https://api.github.com/users/dhoelzgen/following{/other_user}","gists_url":"https://api.github.com/users/dhoelzgen/gists{/gist_id}","starred_url":"https://api.github.com/users/dhoelzgen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhoelzgen/subscriptions","organizations_url":"https://api.github.com/users/dhoelzgen/orgs","repos_url":"https://api.github.com/users/dhoelzgen/repos","events_url":"https://api.github.com/users/dhoelzgen/events{/privacy}","received_events_url":"https://api.github.com/users/dhoelzgen/received_events","type":"User","site_admin":false},"version":"b3da357c822c44a87fd8ad5707b032c06494ea13","committed_at":"2014-07-10T09:08:20Z","change_status":{"total":26,"additions":26,"deletions":0},"url":"https://api.github.com/gists/b4113383ac52979d9734096f14756891/b3da357c822c44a87fd8ad5707b032c06494ea13"}],"truncated":false}
